<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
   <style>
      .github-icon {
      width: 24px;
      height: 24px;
    }
   </style>

  </head>
  <body>
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Web Game🎲</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0"> 
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Menu
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li><a class="dropdown-item" href="#">Another action</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="#">Something else here</a></li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Logout</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">About 📚</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="https://github.com/OFCIHLAVA/Web-game">Github
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 100 100"><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#fff"/>
                </svg>
              </a>
            </li> 
            <li class="nav-item">
              <a id="healthCheck" class="nav-link active" aria-current="page" href="http://127.0.0.1:5000/api/test">💓SERVER HEALTH-CHECK💓</a>
            </li> 
          </ul>
        </div>
      </div>
    </nav>

    <!-- Toast container at bottom-right -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
      <div id="toastHealthCheck" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <strong class="me-auto">💓Server Health Check💓</strong>
          <small id="toastTimestamp">Just now</small>
          <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body" id="toastBody">
          <!-- Server message will be inserted here -->
        </div>
      </div>
    </div>

    <div class="container-fluid border border-primary">
      <div class="row justify-content-center ">
        <div class="col-md-4 border">🏰 Buildings
          <div class="row">Building 1</div>
          <div class="row">Building 2</div>
          <div class="row">Building 3</div>
        </div>
        <div class="col-md-4 border">💎 Resources
          <div class="row">Resource 1</div>
          <div class="row">Resource 2</div>
          <div class="row">Resource 3</div>
        </div>
        <div class="col-md-4 border">✊ Actions
          <div class="row">
            <button 
              class="btn btn-secondary dropdown-toggle"
              type="button"
              id="attackDropdown"
              data-bs-toggle="dropdown"
              aria-expanded="false">⚔️ Attack
            </button>
            <ul class="dropdown-menu" aria-labelledby="attackDropdown">
              <li><a class="dropdown-item" href="#" onclick="attackOptionSolo()">Solo ⚔️</a></li>
              <li><a class="dropdown-item" href="#" onclick="attackOptionCoop()">Cooperate ⚔️</a></li>
            </ul>
          </div>
          <div class="row">
            <button 
              class="btn btn-secondary dropdown-toggle"
              type="button"
              id="exploreDropdown"
              data-bs-toggle="dropdown"
              aria-expanded="false">🧭 Explore
            </button>
            <ul class="dropdown-menu" aria-labelledby="exploreDropdown">
              <li><a class="dropdown-item" href="#" onclick="exploreOptionSolo()">Solo 🧭</a></li>
              <li><a class="dropdown-item" href="#" onclick="exploreOptionCoop()">Cooperate 🧭</a></li>
            </ul>
          </div>
          <div class="row">
            <button 
              class="btn btn-secondary dropdown-toggle"
              type="button"
              id="buildDropdown"
              data-bs-toggle="dropdown"
              aria-expanded="false">⚒️ Build
            </button>
            <ul class="dropdown-menu" aria-labelledby="buildDropdown">
              <li><a class="dropdown-item" href="#" onclick="buildOption1()">🏰 Building 1 - cost X</a></li>
              <li><a class="dropdown-item" href="#" onclick="buildOption2()">🏰 Building 2 - cost w</a></li>
              <li><a class="dropdown-item" href="#" onclick="buildOption3()">🏰 Building 3 - cost y</a></li>
              <li><a class="dropdown-item" href="#" onclick="buildOption4()">🏰 Building 4 - cost z</a></li>
            </ul>
          </div>


          <div class="row">
            <button 
              class="btn btn-secondary dropdown-toggle"
              type="button"
              id="purchaseDropdown"
              data-bs-toggle="dropdown"
              aria-expanded="false">💰 Purchase
            </button>
            <ul class="dropdown-menu" aria-labelledby="purchaseDropdown">
              <li><a class="dropdown-item" href="#" onclick="purchaseOption1()">💰 Item 1 - cost X</a></li>
              <li><a class="dropdown-item" href="#" onclick="purchaseOption2()">💰 Item 2 - cost w</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous">
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous">
    </script>

    <!-- Server health check JS -->
    <script>
      document.getElementById("healthCheck").addEventListener("click", function(e) {
        e.preventDefault();
      
        // Fetch the server health-check JSON data
        fetch("http://127.0.0.1:5000/api/test")
          .then(response => response.json())
          .then(data => {
             // Update the toast content with the server response
             document.getElementById("toastBody").innerHTML = 
               `<strong>Status:</strong> ${data.status}<br>
                <strong>Message:</strong> ${data.message}`;
             document.getElementById("toastTimestamp").textContent = "Just now";
          
             // Initialize and show the toast
             var toastEl = document.getElementById("toastHealthCheck");
             var toast = new bootstrap.Toast(toastEl);
             toast.show();
          })
          .catch(error => {
             console.error("Error fetching server data:", error);
          });
      });
    </script>

</body>
</html>
